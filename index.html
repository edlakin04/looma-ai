<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Looma AI</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet" />

  <style>
    :root {
      --bg-main: #050815;
      --accent: #ff8a3c;
      --accent-soft: rgba(255, 138, 60, 0.18);
      --text-main: #f9f9ff;
      --text-muted: #b7c0d9;
      --border-subtle: rgba(255, 255, 255, 0.12);
      --transition-med: 320ms cubic-bezier(0.19, 0.71, 0.3, 1.01);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html, body {
      height: 100%;
    }

    body {
      font-family: "Inter", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background:
        radial-gradient(circle at 12% 0%, rgba(255, 255, 255, 0.04) 0, transparent 55%),
        radial-gradient(circle at 15% 0%, rgba(255, 138, 60, 0.28) 0, transparent 55%),
        radial-gradient(circle at 85% 100%, rgba(255, 138, 60, 0.22) 0, transparent 55%),
        radial-gradient(circle at 0% 70%, rgba(255, 138, 60, 0.18) 0, transparent 50%),
        var(--bg-main);
      color: var(--text-main);
      -webkit-font-smoothing: antialiased;
      min-height: 100vh;
      overflow-x: hidden;
      display: flex;
      flex-direction: column;
      background-attachment: scroll;
      background-size: cover;
      background-repeat: no-repeat;
    }

    /* STAR LAYER TO BRIGHTEN BACKGROUND */
    .stars {
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: -2;
      opacity: 0.45;
      background-image:
        radial-gradient(2px 2px at 10% 20%, rgba(255, 255, 255, 0.6), transparent),
        radial-gradient(2px 2px at 30% 80%, rgba(255, 255, 255, 0.5), transparent),
        radial-gradient(2px 2px at 70% 30%, rgba(255, 255, 255, 0.55), transparent),
        radial-gradient(2px 2px at 90% 60%, rgba(255, 255, 255, 0.4), transparent),
        radial-gradient(2px 2px at 50% 10%, rgba(255, 255, 255, 0.35), transparent);
    }

    /* SWIRLS */
    .swirl {
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: -1;
      opacity: 0.7;
      mix-blend-mode: screen;
    }

    .swirl::before,
    .swirl::after {
      content: "";
      position: absolute;
      border-radius: 999px;
      border: 1px solid rgba(255, 138, 60, 0.35);
      opacity: 0.45;
      filter: blur(0.2px);
    }

    .swirl::before {
      width: 340px;
      height: 340px;
      top: 14%;
      left: -120px;
      transform: rotate(-18deg);
      border-top: none;
      border-right: none;
    }

    .swirl::after {
      width: 420px;
      height: 420px;
      bottom: -180px;
      right: -80px;
      border-bottom: none;
      border-left: none;
    }

    /* NAVBAR */
    header {
      position: sticky;
      top: 0;
      z-index: 10;
      backdrop-filter: blur(18px);
      background: linear-gradient(
        to bottom,
        rgba(5, 8, 21, 0.98),
        rgba(5, 8, 21, 0.86),
        transparent
      );
      border-bottom: 1px solid rgba(255, 255, 255, 0.06);
    }

    .nav-inner {
      max-width: 1120px;
      margin: 0 auto;
      padding: 0.9rem 1.4rem;
      display: flex;
      align-items: center;
      justify-content: flex-start;
      gap: 0.9rem;
    }

    .brand {
      display: flex;
      align-items: center;
      gap: 0.7rem;
    }

    /* MODERN SQUARE ORB LOGO WITH SWIRLS */
    .brand-badge {
      position: relative;
      width: 34px;
      height: 34px;
      border-radius: 22%;
      background: radial-gradient(circle at 20% 0%, #ffffff 0, #ffe9d1 25%, #ffb37a 45%, #ff8a3c 70%, #1a0a05 100%);
      box-shadow:
        0 0 20px rgba(255, 138, 60, 0.6),
        0 0 45px rgba(255, 255, 255, 0.15);
      overflow: hidden;
    }

    .brand-badge::before {
      content: "";
      position: absolute;
      inset: 4px;
      border-radius: 24%;
      border: 1px solid rgba(255, 255, 255, 0.5);
      opacity: 0.8;
    }

    .brand-badge::after {
      content: "";
      position: absolute;
      width: 140%;
      height: 140%;
      border-radius: 50%;
      border: 1px solid rgba(255, 255, 255, 0.24);
      top: -65%;
      left: -10%;
      transform: rotate(20deg);
      opacity: 0.85;
      mix-blend-mode: screen;
    }

    .brand-badge-inner-swirl {
      position: absolute;
      width: 200%;
      height: 200%;
      border-radius: 50%;
      border: 1px solid rgba(255, 255, 255, 0.18);
      top: -40%;
      left: -60%;
      transform: rotate(-32deg);
      opacity: 0.75;
      mix-blend-mode: screen;
    }

    .brand-text-main {
      font-weight: 600;
      font-size: 1rem;
      letter-spacing: 0.14em;
      text-transform: uppercase;
    }

    .brand-text-main span {
      background: linear-gradient(120deg, #ffffff, #ffe2c7, #ff8a3c);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }

    main {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: stretch;
    }

    .section {
      width: 100%;
      padding: 1.7rem 1.4rem;
    }

    .section-inner {
      max-width: 1120px;
      margin: 0 auto;
    }

    /* HERO */
    .hero {
      text-align: center;
      padding-top: 1.8rem;
      padding-bottom: 2rem;
      position: relative;
    }

    .hero-title {
      font-size: clamp(2rem, 2.6vw + 1.1rem, 2.8rem);
      letter-spacing: 0.12em;
      margin-bottom: 0.9rem;
      text-transform: uppercase;
      font-weight: 600;
    }

    .hero-title span {
      background: linear-gradient(135deg, #ffffff, #ffe0c2, #ff8a3c);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }

    .hero-subtext {
      max-width: 720px;
      margin: 0 auto 1.3rem;
      font-size: 1rem;
      color: var(--text-muted);
      line-height: 1.7;
    }

    .hero-list {
      list-style: none;
      max-width: 560px;
      margin: 0 auto 1rem;
      text-align: left;
    }

    .hero-list li {
      display: flex;
      align-items: flex-start;
      gap: 0.55rem;
      font-size: 0.92rem;
      color: var(--text-muted);
      margin-bottom: 0.5rem;
    }

    .hero-list-icon {
      margin-top: 0.1rem;
      width: 18px;
      height: 18px;
      border-radius: 999px;
      border: 1px solid rgba(255, 138, 60, 0.8);
      background: rgba(255, 255, 255, 0.05);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.7rem;
      color: #ffd0aa;
      flex-shrink: 0;
    }

    .hero-footnote {
      font-size: 0.8rem;
      color: var(--text-muted);
      margin-top: 0.9rem;
      max-width: 580px;
      margin-left: auto;
      margin-right: auto;
      line-height: 1.5;
      background: radial-gradient(circle at 0 0, rgba(255, 255, 255, 0.04) 0, transparent 55%);
      padding: 0.5rem 0.4rem 0.2rem;
      border-radius: 12px;
    }

    /* FLOW (onboarding) */
    .flow {
      padding-top: 0;
      padding-bottom: 3.8rem;
    }

    .flow-inner {
      max-width: 960px;
      margin: 0 auto;
      position: relative;
      padding: 1rem 0.5rem 0.5rem;
    }

    .flow-header {
      text-align: center;
      margin-bottom: 1.2rem;
    }

    .flow-title {
      font-size: 0.9rem;
      text-transform: uppercase;
      letter-spacing: 0.18em;
      color: #dde2ff;
      margin-bottom: 0.25rem;
    }

    .flow-subtitle {
      font-size: 0.88rem;
      color: var(--text-muted);
    }

    .flow-main {
      position: relative;
      overflow: visible; /* so content isn't cut off */
      min-height: 310px;
      margin-top: 1.3rem;
      transition: height 0.3s ease-out;
    }

    .steps-track {
      position: relative;
      width: 100%;
      height: 100%;
    }

    .step {
      position: absolute;
      inset: 0;
      opacity: 0;
      transform: translateX(40px);
      transition:
        opacity var(--transition-med),
        transform var(--transition-med);
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      padding: 0.5rem 3rem 2.4rem; /* more bottom padding for mobile */
    }

    @media (max-width: 720px) {
      .step {
        padding: 0.5rem 1.2rem 2.6rem;
      }
    }

    .step.active {
      opacity: 1;
      transform: translateX(0);
      pointer-events: auto;
    }

    .step.exiting-left {
      opacity: 0;
      transform: translateX(-40px);
    }

    .step.exiting-right {
      opacity: 0;
      transform: translateX(40px);
    }

    .step-label {
      font-size: 0.8rem;
      color: var(--accent);
      text-transform: uppercase;
      letter-spacing: 0.16em;
      margin-bottom: 0.1rem;
    }

    .step-title {
      font-size: 1.18rem;
      margin-bottom: 0.55rem;
    }

    .step-body {
      font-size: 0.97rem;
      color: var(--text-muted);
      line-height: 1.7;
      max-width: 700px;
    }

    .step-note {
      font-size: 0.82rem;
      margin-top: 0.6rem;
      color: var(--text-muted);
      border-left: 2px solid var(--accent-soft);
      padding-left: 0.75rem;
      max-width: 700px;
    }

    .step-cta {
      margin-top: 1rem;
      display: flex;
      flex-wrap: wrap;
      gap: 0.7rem;
      align-items: center;
    }

    .step-cta-center {
      justify-content: center;
    }

    .whatsapp-link {
      display: inline-flex;
      align-items: center;
      gap: 0.4rem;
      text-decoration: none;
      border-radius: 999px;
      padding: 0.7rem 1.4rem;
      background: linear-gradient(135deg, #22c35e, #128c7e);
      color: #f5fff9;
      font-size: 0.95rem;
      font-weight: 500;
      box-shadow:
        0 0 18px rgba(18, 140, 126, 0.7),
        0 12px 32px rgba(0, 0, 0, 0.85);
      transition: transform 200ms ease-out, box-shadow 200ms ease-out, filter 200ms ease-out;
    }

    .whatsapp-link:hover {
      transform: translateY(-1px);
      filter: brightness(1.04);
      box-shadow:
        0 0 24px rgba(34, 195, 94, 0.8),
        0 14px 38px rgba(0, 0, 0, 0.95);
    }

    .whatsapp-link-icon {
      width: 18px;
      height: 18px;
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.4);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      font-size: 0.9rem;
    }

    .flow-foot {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.5rem;
      margin-top: 0.45rem;
      padding: 0 0.5rem;
      text-align: center;
    }

    .flow-progress-dots {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.35rem;
    }

    .progress-dot {
      width: 7px;
      height: 7px;
      border-radius: 999px;
      background: rgba(255, 255, 255, 0.2);
      transition: width 200ms ease-out, background 200ms ease-out, box-shadow 200ms ease-out;
    }

    .progress-dot.active {
      width: 20px;
      background: var(--accent);
      box-shadow: 0 0 10px rgba(255, 138, 60, 0.95);
    }

    .flow-label {
      font-size: 1.05rem;
      color: var(--text-muted);
    }

    .flow-nav {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.75rem;
      margin-top: 0.2rem;
    }

    .flow-btn {
      border-radius: 999px;
      border: 1px solid rgba(255, 255, 255, 0.2);
      padding: 0.7rem 1.3rem;
      background: rgba(9, 12, 30, 0.96);
      color: var(--text-main);
      font-size: 1rem;
      cursor: pointer;
      transition: background 160ms ease-out, border-color 160ms ease-out, transform 160ms ease-out, opacity 120ms ease-out;
    }

    .flow-btn:hover:not([disabled]) {
      background: rgba(14, 18, 40, 0.98);
      border-color: var(--accent);
      transform: translateY(-1px);
    }

    .flow-btn[disabled] {
      opacity: 0.35;
      cursor: default;
    }

    /* REVIEWS BAND */
    .reviews {
      padding: 1.6rem 1.4rem 2rem;
      border-top: 1px solid rgba(255, 255, 255, 0.16);
      background: rgba(8, 10, 25, 0.96);
      backdrop-filter: blur(10px);
    }

    .reviews-inner {
      max-width: 1120px;
      margin: 0 auto;
    }

    .reviews-header {
      margin-bottom: 1rem;
      text-align: left;
    }

    .reviews-title {
      font-size: 0.9rem;
      text-transform: uppercase;
      letter-spacing: 0.18em;
      color: #dde2ff;
      margin-bottom: 0.25rem;
    }

    .reviews-sub {
      font-size: 0.82rem;
      color: var(--text-muted);
    }

    .reviews-grid {
      display: grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap: 1rem;
      margin-top: 0.9rem;
    }

    @media (max-width: 880px) {
      .reviews-grid {
        grid-template-columns: minmax(0, 1fr);
      }
    }

    .reviews-card {
      border-radius: 18px;
      padding: 0.9rem 1rem 1rem;
      background: rgba(10, 14, 30, 0.98);
      border: 1px solid rgba(255, 255, 255, 0.12);
      display: flex;
      gap: 0.8rem;
    }

    .reviews-avatar {
      flex-shrink: 0;
      width: 40px;
      height: 40px;
      border-radius: 999px;
      background: radial-gradient(circle at 20% 0%, #ffffff 0, #ffe0c2 35%, #ff8a3c 60%, #1a0a05 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.9rem;
      font-weight: 700;
      color: #2a0a02;
      box-shadow: 0 0 16px rgba(255, 138, 60, 0.6);
    }

    .reviews-body {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 0.25rem;
    }

    .reviews-name {
      font-weight: 500;
      font-size: 0.86rem;
    }

    .reviews-meta {
      font-size: 0.76rem;
      color: var(--text-muted);
    }

    .reviews-text {
      font-size: 0.8rem;
      color: var(--text-muted);
      line-height: 1.5;
      margin-top: 0.25rem;
    }

    .reviews-foot {
      margin-top: 0.35rem;
      font-size: 0.74rem;
      color: var(--text-muted);
      opacity: 0.9;
    }

    /* FOOTER */
    footer {
      border-top: 1px solid rgba(255, 255, 255, 0.16);
      padding: 1.2rem 1.4rem 1.6rem;
      font-size: 0.8rem;
      color: var(--text-muted);
      background: rgba(8, 10, 25, 0.96); /* same as reviews so it doesn't creep up visually */
    }

    .footer-inner {
      max-width: 1120px;
      margin: 0 auto;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 0.8rem;
      flex-wrap: wrap;
    }

    .footer-links {
      display: flex;
      align-items: center;
      gap: 0.8rem;
      flex-wrap: wrap;
    }

    .footer-links a {
      color: var(--text-muted);
      text-decoration: none;
      font-size: 0.8rem;
      padding-bottom: 1px;
      border-bottom: 1px dotted transparent;
      transition: color 160ms ease-out, border-color 160ms ease-out;
    }

    .footer-links a:hover {
      color: #ffffff;
      border-color: rgba(255, 255, 255, 0.7);
    }

    .footer-small {
      font-size: 0.72rem;
      opacity: 0.9;
    }
  </style>
</head>
<body>
  <div class="stars"></div>
  <div class="swirl"></div>

  <!-- NAV -->
  <header>
    <div class="nav-inner">
      <div class="brand">
        <div class="brand-badge">
          <div class="brand-badge-inner-swirl"></div>
        </div>
        <div class="brand-text-main"><span>Looma AI</span></div>
      </div>
    </div>
  </header>

  <main>
    <!-- HERO -->
    <section class="section hero">
      <div class="section-inner">
        <h1 class="hero-title">
          Welcome to <span>Looma&nbsp;AI</span>
        </h1>

        <p class="hero-subtext">
          We connect a proven trading bot to your broker account so you can see live results,
          decide what to withdraw, and what to keep compounding.
        </p>

        <ul class="hero-list">
          <li>
            <div class="hero-list-icon">✓</div>
            <div>Works with our partnered broker and MetaTrader platform.</div>
          </li>
          <li>
            <div class="hero-list-icon">✓</div>
            <div>You stay in full control: view trades and your balance in real-time.</div>
          </li>
          <li>
            <div class="hero-list-icon">✓</div>
            <div>Simple WhatsApp onboarding — no dashboards, no logins.</div>
          </li>
        </ul>

        <div class="hero-footnote">
          This is not financial advice. Trading involves risk. Only use money you can afford to lose.
          If you have any questions at any point, you can ask directly in the WhatsApp group before or after you get set up.
        </div>
      </div>
    </section>

    <!-- ONBOARDING FLOW -->
    <section class="section flow" aria-label="Onboarding flow">
      <div class="section-inner">
        <div class="flow-inner" id="flowArea">
          <div class="flow-header">
            <div class="flow-title">Onboarding flow</div>
            <div class="flow-subtitle">
              Step <span id="stepCurrent">1</span> of <span id="stepTotal">5</span>
            </div>
          </div>

          <div class="flow-main">
            <div class="steps-track">
              <!-- STEP 1 -->
              <article class="step active" data-step="1">
                <div class="step-label">Step 1</div>
                <h2 class="step-title">Deposit a minimum of £500 into the broker</h2>
                <p class="step-body">
                  Create your account with our partnered broker and deposit at least <strong>£500</strong>.
                  This is the minimum balance the Looma AI bot is built around.
                </p>
                <div class="step-note">
                  Higher amounts give the strategy more room to manage trades, but always stay within your own risk level.
                </div>
              </article>

              <!-- STEP 2 -->
              <article class="step" data-step="2">
                <div class="step-label">Step 2</div>
                <h2 class="step-title">Download MetaTrader</h2>
                <p class="step-body">
                  Install the <strong>MetaTrader</strong> platform (4 or 5, depending on the broker).
                  This is where you&rsquo;ll see your positions, balance, and history live.
                </p>
                <div class="step-note">
                  Use the official MetaTrader app from the broker area or your app store on mobile or desktop.
                </div>
              </article>

              <!-- STEP 3 -->
              <article class="step" data-step="3">
                <div class="step-label">Step 3</div>
                <h2 class="step-title">We connect your account to the Looma AI bot</h2>
                <p class="step-body">
                  In the WhatsApp group we guide you through securely connecting your broker account
                  to the Looma AI strategy. You never send funds to us — everything stays in your
                  own broker account.
                </p>
                <div class="step-note">
                  You can disconnect the bot at any time. You stay the owner of the account and funds.
                </div>
              </article>

              <!-- STEP 4 -->
              <article class="step" data-step="4">
                <div class="step-label">Step 4</div>
                <h2 class="step-title">Watch your earnings & choose withdrawals</h2>
                <p class="step-body">
                  As the bot runs, you&rsquo;ll see trades and overall balance in MetaTrader.
                  You decide when to withdraw profits and when to leave them in to compound.
                </p>
                <div class="step-note">
                  <strong>Important:</strong> performance can vary and there are no guaranteed returns.
                  You&rsquo;re responsible for how much you keep in or take out.
                </div>
              </article>

              <!-- STEP 5 -->
              <article class="step" data-step="5">
                <div class="step-label">Final step</div>
                <h2 class="step-title">Join the Looma AI WhatsApp group</h2>
                <p class="step-body">
                  When you&rsquo;re ready, join the private WhatsApp group. From there we walk you through
                  deposit, MetaTrader, and connecting the bot, plus ongoing updates and support.
                  You can also use the group to ask any questions you have before or after connecting.
                </p>
                <div class="step-cta step-cta-center">
                  <!-- Replace this href with your real WhatsApp group link -->
                  <a
                    class="whatsapp-link"
                    href="https://chat.whatsapp.com/your-group-link"
                    target="_blank"
                    rel="noopener noreferrer"
                  >
                    <span class="whatsapp-link-icon">✆</span>
                    Join the WhatsApp group
                  </a>
                </div>
                <div class="step-note">
                  You&rsquo;ll never be asked for passwords or sensitive login details in the group.
                  We only guide you on how to connect your own broker account safely and answer your questions.
                </div>
              </article>
            </div>
          </div>

          <div class="flow-foot">
            <div class="flow-progress-dots" id="progressDots"></div>
            <div class="flow-label" id="flowLabel">
              Swipe left/right or use the buttons to move through the steps.
            </div>
            <div class="flow-nav">
              <button type="button" class="flow-btn" id="btnBack" disabled>Back</button>
              <button type="button" class="flow-btn" id="btnNext">Next</button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- REVIEWS BAND -->
    <section class="reviews" aria-label="Member reviews">
      <div class="reviews-inner">
        <div class="reviews-header">
          <div class="reviews-title">What people say</div>
          <div class="reviews-sub">
            A few comments from people using the Looma AI bot. Past results do not guarantee future performance.
          </div>
        </div>

        <div class="reviews-grid">
          <article class="reviews-card">
            <div class="reviews-avatar">HM</div>
            <div class="reviews-body">
              <div class="reviews-name">Hassan&nbsp;M.</div>
              <div class="reviews-meta">Using Looma AI for 3 months</div>
              <div class="reviews-text">
                &ldquo;I barely have time to trade manually.
                The bot runs in the background and I just check MetaTrader to see what it&rsquo;s done
                and what I want to withdraw.&rdquo;
              </div>
              <div class="reviews-foot">
                Monitors trades in-app, withdrawals handled directly with broker.
              </div>
            </div>
          </article>

          <article class="reviews-card">
            <div class="reviews-avatar">SR</div>
            <div class="reviews-body">
              <div class="reviews-name">Sophie&nbsp;R.</div>
              <div class="reviews-meta">Joined via WhatsApp onboarding</div>
              <div class="reviews-text">
                &ldquo;Setup was way easier than I expected.
                Everything was explained step-by-step in the group, and my funds stayed in my own broker
                account the whole time.&rdquo;
              </div>
              <div class="reviews-foot">
                Support and updates shared in chat, no extra dashboards.
              </div>
            </div>
          </article>

          <article class="reviews-card">
            <div class="reviews-avatar">AK</div>
            <div class="reviews-body">
              <div class="reviews-name">Adeel&nbsp;K.</div>
              <div class="reviews-meta">Focus on compounding</div>
              <div class="reviews-text">
                &ldquo;Some weeks I take profits, some weeks I let it build.
                Having that control and being able to see everything live makes me comfortable using automation.&rdquo;
              </div>
              <div class="reviews-foot">
                User controls risk and withdrawals at all times.
              </div>
            </div>
          </article>
        </div>
      </div>
    </section>
  </main>

  <!-- FOOTER -->
  <footer>
    <div class="footer-inner">
      <div class="footer-links">
        <!-- Replace these with your real links -->
        <a href="#" target="_blank" rel="noopener noreferrer">Instagram</a>
        <a href="#" target="_blank" rel="noopener noreferrer">Facebook</a>
        <a href="https://chat.whatsapp.com/your-group-link" target="_blank" rel="noopener noreferrer">WhatsApp</a>
      </div>
      <div class="footer-small">
        Looma AI &copy; <span id="year"></span> — Trading involves risk of loss.
      </div>
    </div>
  </footer>

  <script>
    (function () {
      // footer year
      document.getElementById('year').textContent = new Date().getFullYear().toString();

      const steps = Array.from(document.querySelectorAll('.step'));
      const totalSteps = steps.length;
      const stepCurrentEl = document.getElementById('stepCurrent');
      const stepTotalEl = document.getElementById('stepTotal');
      const btnBack = document.getElementById('btnBack');
      const btnNext = document.getElementById('btnNext');
      const flowArea = document.getElementById('flowArea');
      const dotsContainer = document.getElementById('progressDots');
      const flowLabel = document.getElementById('flowLabel');
      const flowMain = document.querySelector('.flow-main');

      let currentStep = 0;
      stepTotalEl.textContent = totalSteps.toString();

      // progress dots
      const dots = [];
      for (let i = 0; i < totalSteps; i++) {
        const dot = document.createElement('div');
        dot.className = 'progress-dot' + (i === 0 ? ' active' : '');
        dotsContainer.appendChild(dot);
        dots.push(dot);
      }

      function updateDots(index) {
        dots.forEach((dot, i) => {
          dot.classList.toggle('active', i === index);
        });
      }

      function updateLabelAndButtons() {
        if (currentStep === 0) {
          flowLabel.textContent = 'Swipe left/right or use the buttons to move through the steps.';
        } else if (currentStep === totalSteps - 1) {
          flowLabel.textContent = 'Final step: tap the WhatsApp button to join the group or ask questions.';
        } else {
          flowLabel.textContent = 'Continue through each step to see how Looma AI works.';
        }

        btnBack.disabled = currentStep === 0;
        btnNext.disabled = currentStep === totalSteps - 1;
      }

      function setFlowHeight(stepEl) {
        if (!flowMain || !stepEl) return;
        // Temporarily ensure it's visible to measure
        const prevPosition = stepEl.style.position;
        const prevOpacity = stepEl.style.opacity;
        stepEl.style.position = 'relative';
        stepEl.style.opacity = '1';
        const height = stepEl.offsetHeight;
        stepEl.style.position = prevPosition;
        stepEl.style.opacity = prevOpacity;
        flowMain.style.height = height + 'px';
      }

      function goToStep(newIndex, direction) {
        if (newIndex < 0 || newIndex >= totalSteps || newIndex === currentStep) return;

        const currentEl = steps[currentStep];
        const nextEl = steps[newIndex];

        steps.forEach(s => s.classList.remove('exiting-left', 'exiting-right'));

        if (direction === 'next') {
          currentEl.classList.remove('active');
          currentEl.classList.add('exiting-left');
        } else if (direction === 'prev') {
          currentEl.classList.remove('active');
          currentEl.classList.add('exiting-right');
        } else {
          currentEl.classList.remove('active');
        }

        nextEl.classList.add('active');

        currentStep = newIndex;
        stepCurrentEl.textContent = (currentStep + 1).toString();
        updateDots(currentStep);
        updateLabelAndButtons();
        setFlowHeight(nextEl);
      }

      btnNext.addEventListener('click', function () {
        goToStep(currentStep + 1, 'next');
      });

      btnBack.addEventListener('click', function () {
        goToStep(currentStep - 1, 'prev');
      });

      // swipe support
      let touchStartX = null;
      let touchStartY = null;

      flowArea.addEventListener('touchstart', function (e) {
        const t = e.touches[0];
        touchStartX = t.clientX;
        touchStartY = t.clientY;
      }, { passive: true });

      flowArea.addEventListener('touchend', function (e) {
        if (touchStartX === null || touchStartY === null) return;
        const t = e.changedTouches[0];
        const dx = t.clientX - touchStartX;
        const dy = t.clientY - touchStartY;

        if (Math.abs(dx) > 40 && Math.abs(dx) > Math.abs(dy)) {
          if (dx < 0 && currentStep < totalSteps - 1) {
            goToStep(currentStep + 1, 'next');
          } else if (dx > 0 && currentStep > 0) {
            goToStep(currentStep - 1, 'prev');
          }
        }

        touchStartX = null;
        touchStartY = null;
      }, { passive: true });

      // initial height
      setFlowHeight(steps[currentStep]);
      updateLabelAndButtons();

      // adjust height on resize
      window.addEventListener('resize', function () {
        setFlowHeight(steps[currentStep]);
      });
    })();
  </script>
</body>
</html>
